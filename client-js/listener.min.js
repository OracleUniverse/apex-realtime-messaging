function renderListener(e){var o=e||this||{},t=o.attribute01||"wss://rtm.oracleapex.cloud",n=o.attribute02||"test",a=o.attribute03||"ping",l=o.attribute04||"rtm-message";o._rtmSocket&&o._rtmSocket.readyState===WebSocket.OPEN?console.log("RTM listener: socket already open, reusing:",t):function e(){console.log("RTM listener connecting to",t,"channel=",n,"event=",a);var r=new WebSocket(t);o._rtmSocket=r,r.onopen=function(){console.log("RTM listener connected:",t)},r.onmessage=function(e){var o;try{o=JSON.parse(e.data)}catch(o){return void console.error("RTM listener: invalid JSON",o,e.data)}!function(e){if(!(e.channel&&e.channel!==n||e.eventName&&e.eventName!==a)){if(console.log("RTM listener received message:",e),e.payload&&e.payload.itemName&&void 0!==e.payload.value&&null!==e.payload.value&&""!==e.payload.value&&window.apex&&apex.item)try{apex.item(e.payload.itemName).setValue(e.payload.value),console.log("RTM listener: set",e.payload.itemName,"to",e.payload.value)}catch(o){console.warn("RTM listener: could not set APEX item",e.payload.itemName,o)}window.apex&&apex.event&&apex.event.trigger&&apex.event.trigger(document,l,e)}}(o)},r.onclose=function(o){console.log("RTM listener closed:",o.code,o.reason||""),1e3!==o.code&&1001!==o.code&&(console.log("RTM listener: reconnecting in 3000 ms..."),setTimeout(e,3e3))},r.onerror=function(e){console.error("RTM listener error:",e)}}()}